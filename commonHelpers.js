import{a as m,i as d,S as x}from"./assets/vendor-527658dd.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const h=15,I=Math.ceil(100/h);async function u(){const r="https://pixabay.com/api/";m.defaults.baseURL=r;const s="42471453-a4a004408e33f852748a0909e",o="photo",a="horizontal",e=!0;console.log(c);try{return(await m.get(r,{params:{page:c,per_page:h,key:s,q:b,image_type:o,orientation:a,safesearch:e}})).data}catch(t){console.log(t)}}function g(r){const s=r.map(({webformatURL:o,largeImageURL:a,tags:e,likes:t,views:n,comments:S,downloads:v})=>`<li class="image-search">
        <a href="${a}">
        <img class="gallery-image" src="${o}" alt="${e}"/>
        </a>
        <ul class="gallery-image-info">
          <li class="image-items">
            <p class="image-info-items"><span class="image-items-text">Likes</span>${t}</p>
            <p class="image-info-items"><span class="image-items-text">Views</span>${n}</p>
            <p class="image-info-items"><span class="image-items-text">Comments</span>${S}</p>
            <p class="image-info-items"><span class="image-items-text">Downloads</span>${v}</p>
          </li>
        </ul>
      </li>`).join("");y.insertAdjacentHTML("beforeend",s),l.classList.remove("loader"),i.classList.remove("hidden")}const f="/goit-js-hw-12/assets/error-3e5cbc60.svg",y=document.querySelector(".gallery-list"),p=document.querySelector("input"),L=document.querySelector("form"),i=document.querySelector(".load-more-img"),l=document.querySelector(".form-container div");let c=1,b;i.classList.add("hidden");L.addEventListener("submit",q);function q(r){if(r.preventDefault(),b=p.value,y.innerHTML="",p.value.trim()===""){i.classList.add("hidden");return}l.classList.add("loader"),u().then(s=>{if(s.total===0){d.error({iconUrl:f,messageColor:"#ffffff",message:"Sorry, there are no images matching your search query. Please try again!",backgroundColor:"#EF4040",position:"topRight",messageSize:16,layout:2,maxWidth:380,theme:"dark"}),l.classList.remove("loader"),i.classList.add("hidden");return}g(s.hits),i.addEventListener("click",o);function o(){if(c>I)return i.classList.add("hidden"),d.error({position:"topRight",message:"We're sorry, but you've reached the end of search results.",iconUrl:f,messageColor:"#ffffff",backgroundColor:"#EF4040",messageSize:16,layout:2,maxWidth:380,theme:"dark"});c+=1,u().then(e=>{g(e.hits)})}new x(".gallery-list a",{captionsData:"alt",captionDelay:250}).refresh()}),L.reset()}
//# sourceMappingURL=commonHelpers.js.map
