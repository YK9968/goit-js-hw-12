import{a as m,S as x,i as I}from"./assets/vendor-da186403.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const q=15;async function u(r,s){const a="https://pixabay.com/api/";m.defaults.baseURL=a;const o="42471453-a4a004408e33f852748a0909e",e="photo",t="horizontal",n=!0;try{return(await m.get(a,{params:{page:r,per_page:q,key:o,q:s,image_type:e,orientation:t,safesearch:n}})).data}catch(c){console.log(c)}}const E="/goit-js-hw-12/assets/error-3e5cbc60.svg",S=document.querySelector(".gallery-list"),i=document.querySelector(".load-more-img"),d=document.querySelector(".form-container div");function g(r){const s=r.map(({webformatURL:a,largeImageURL:o,tags:e,likes:t,views:n,comments:c,downloads:v})=>`<li class="image-search">
        <a href="${o}">
        <img class="gallery-image" src="${a}" alt="${e}"/>
        </a>
        <ul class="gallery-image-info">
          <li class="image-items">
            <p class="image-info-items"><span class="image-items-text">Likes</span>${t}</p>
            <p class="image-info-items"><span class="image-items-text">Views</span>${n}</p>
            <p class="image-info-items"><span class="image-items-text">Comments</span>${c}</p>
            <p class="image-info-items"><span class="image-items-text">Downloads</span>${v}</p>
          </li>
        </ul>
      </li>`).join("");S.insertAdjacentHTML("beforeend",s),d.classList.remove("loader"),i.classList.remove("hidden")}function f(){new x(".gallery-list a",{captionsData:"alt",captionDelay:250}).refresh()}function l(r){I.error({position:"topRight",message:r,iconUrl:E,messageColor:"#ffffff",backgroundColor:"#EF4040",messageSize:16,layout:2,maxWidth:380,theme:"dark"})}const p=document.querySelector(".loading"),h=document.querySelector("input"),b=document.querySelector("form");let y=1,L;i.classList.add("hidden");b.addEventListener("submit",w);function w(r){if(r.preventDefault(),L=h.value,S.innerHTML="",h.value.trim()===""){i.classList.add("hidden"),l("Sorry, input is emty. Please try again!");return}d.classList.add("loader"),u(y,L).then(s=>{if(s.total===0){l("Sorry, there are no images matching your search query. Please try again!"),d.classList.remove("loader"),i.classList.add("hidden");return}g(s.hits),i.addEventListener("click",a);function a(){p.classList.add("loader"),i.classList.add("hidden"),y+=1,u().then(o=>{if(g(o.hits),p.classList.remove("loader"),i.classList.remove("hidden"),o.hits.length<15)return i.classList.add("hidden"),l("We're sorry, but you've reached the end of search results.");f()})}f()}),b.reset()}
//# sourceMappingURL=commonHelpers.js.map
